server.port=8081
spring.datasource.url=jdbc:postgresql://localhost:5432/aiqo?currentSchema=aiqo;MODE=PostgreSQL
# PostgreSQL 17 requires JDBC driver 42.7.0 or newer
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.username=aiqo
spring.datasource.password=aiqo
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.default_schema=aiqo
#spring.liquibase.default-schema=aiqo
#spring.liquibase.change-log=classpath:/db/changelog/changelog-master.yaml
spring.jpa.open-in-view=true
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.use_sql_comments=true
logging.level.org.hibernate.SQL=TRACE
logging.level.org.hibernate.orm.jdbc.bind=TRACE
logging.level.org.springframework.data.rest.webmvc=TRACE
logging.level.org.springframework.data.rest.core=TRACE
logging.level.org.springframework.data.rest.webmvc.RepositorySearchController=WARN

# OpenAPI Configuration
springdoc.api-docs.enabled=true
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.url=/api-docs
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.cache.disabled=true
springdoc.show-actuator=true

# Enable Spring Data REST documentation
springdoc.data-rest.enabled=true
springdoc.data-rest.base-path=/api
spring.data.rest.base-path=/api

# CORS Configuration
spring.data.rest.cors.allowed-origins=http://localhost:4200
spring.data.rest.cors.allowed-methods=GET,POST,PUT,PATCH,DELETE,OPTIONS
spring.data.rest.cors.allowed-headers=*
spring.data.rest.cors.exposed-headers=Location
spring.data.rest.cors.allow-credentials=true

# Kafka
spring.kafka.bootstrap-servers=localhost:9092
spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer
spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer
spring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.JsonDeserializer
spring.kafka.consumer.properties.spring.json.trusted.packages=*
spring.kafka.consumer.properties.spring.json.type.mapping=org.iro.aiqo.collector.messaging.CollectorRunMessage:org.iro.aiqo.messaging.CollectorRunMessage
spring.kafka.consumer.auto-offset-reset=earliest
spring.kafka.consumer.group-id=aiqo-persistence
aiqo.kafka.tasks-topic=aiqo.tasks
aiqo.kafka.hints-topic=aiqo.hints
aiqo.kafka.collector-topic=aiqo.collector.runs
aiqo.tasks.dispatcher.enabled=true
